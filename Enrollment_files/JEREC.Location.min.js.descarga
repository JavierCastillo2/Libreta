typeof JEREC=="undefined"&&(JEREC={__namespace:!0});JEREC.Location={Initialize:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){$("#"+i).blur(function(){$.grep($("#"+i).autocomplete("option","source"),function(n){return n.value==$("#"+i).val()&&n.Id==$("#"+f).val()}).length==0&&($("#"+i+",#"+f).val(""),$("#"+r+",#"+o).val(""),$("#"+u+",#"+s).val(""),$("#"+i).get(0).Validators&&ValidatorValidate($("#"+i).get(0).Validators[0]))});$("#"+r).blur(function(){$.grep($("#"+r).autocomplete("option","source"),function(n){return n.value==$("#"+r).val()&&n.Id==$("#"+o).val()}).length==0&&($("#"+r+",#"+o).val(""),$("#"+u+",#"+s).val(""),$("#"+r).get(0).Validators&&ValidatorValidate($("#"+r).get(0).Validators[0]))});$("#"+u).blur(function(){$.grep($("#"+u).autocomplete("option","source"),function(n){return n.value==$("#"+u).val()&&n.Id==$("#"+s).val()}).length==0&&($("#"+u+",#"+s).val(""),$("#"+u).get(0).Validators&&ValidatorValidate($("#"+u).get(0).Validators[0]))}).focus(function(n){$("#"+o).val()==""&&($("#"+r).focus(),n.preventDefault())});JEREC.Utils.Spinner.startOverlapElement(t);JEREC.Location.LoadCountries(n,t,i,r,u,f,e,o,s,c,l,a,v).then(JEREC.Location.LoadStates(n,t,i,r,u,f,o,s)).then(function(){$("#"+o).val()!=""?JEREC.Location.LoadCity(n,t,i,r,u,f,s,o).then(function(){$("#"+u).focus();JEREC.Utils.Spinner.endOverlapElement(t)}):JEREC.Utils.Spinner.endOverlapElement(t)})},LoadCountries:function(n,t,i,r,u,f,e,o,s,h,c,l,a){def=$.Deferred();var v=a!="True"?"GetCountries":"GetCountriesWithoutColombia?country="+l;return JEREC.Utils.retrieveRecords(v,n).then(function(a){$("#"+i).autocomplete({source:a,select:function(a,v){$("#"+f).val(v.item.Id);$("#"+e).val(v.item.label);$("#"+o).val("");$("#"+s).val("");$("#"+r).val("");$("#"+u).val("");v.item.label==l?($("#"+h).show(),$("#"+c).show(),JEREC.Utils.Spinner.startOverlapElement(t),JEREC.Location.LoadStates(n,t,i,r,u,f,o,s).then(function(){$("#"+r).focus();JEREC.Utils.Spinner.endOverlapElement(t)})):(JEREC.Utils.Spinner.startOverlapElement(t),JEREC.Location.LoadStates(n,t,i,r,u,f,o,s).then(function(){$("#"+r).focus();JEREC.Utils.Spinner.endOverlapElement(t)}))}})}).then(def.resolve,def.reject),def},LoadStates:function(n,t,i,r,u,f,e,o){def=$.Deferred();var s=$("#"+f).val();return JEREC.Utils.retrieveRecords("GetStates?countryGuid="+s,n).then(function(s){$("#"+r).autocomplete({source:s,select:function(s,h){$("#"+e).val(h.item.Id);$("#"+o).val("");$("#"+u).val("");JEREC.Utils.Spinner.startOverlapElement(t);JEREC.Location.LoadCity(n,t,i,r,u,f,o,e).then(function(){$("#"+u).focus();JEREC.Utils.Spinner.endOverlapElement(t)})}})}).then(def.resolve,def.reject),def},LoadCity:function(n,t,i,r,u,f,e,o){def=$.Deferred();var s=$("#"+o).val();return JEREC.Utils.retrieveRecords("GetCities?stateGuid="+s,n).then(function(n){$("#"+u).autocomplete({source:n,select:function(n,t){$("#"+e).val(t.item.Id)}})}).then(def.resolve,def.reject),def}};
//# sourceMappingURL=JEREC.Location.min.js.map
